import{p as e,b as t,d as r,A as o,C as i,f as n,g as a,J as s,K as u,F as p,o as c}from"./vendor.ec101613.js";import{G as f}from"./GeoJSON.4eb8f900.js";import{d as h,bO as y,aL as l,j as d,bP as _,bQ as m,bR as g,k as v,bS as E,bT as T,bU as P,bL as b,bV as F,aA as x,g as R,m as A,P as S,aX as L,q as C,aC as w,bI as U,aq as D,p as B,Q as I,f as G,R as M,c as O,M as N,V as z}from"./ol.bbcea228.js";import{V as X,B as j,L as V,S as H}from"./Vector.d80cd09d.js";import{T as k}from"./TileImage.6719d572.js";import{X as W}from"./XYZ.4ee3e030.js";import{A as q}from"./OSM.b07225a9.js";import"./LineString.9ae0adb3.js";import"./MultiPolygon.1b740cf8.js";var Y,Z=["experimental-webgl","webgl","webkit-3d","moz-webgl"];function K(e,t){for(var r=Z.length,o=0;o<r;++o)try{var i=e.getContext(Z[o],t);if(i)return i}catch(n){}return null}var J=35044;function Q(e){switch(e){case 34962:return Float32Array;case 34963:return Uint32Array;default:return Float32Array}}var $=function(){function e(e,t){this.array=null,this.type=e,h(34962===e||34963===e,62),this.usage=void 0!==t?t:J}return e.prototype.ofSize=function(e){this.array=new(Q(this.type))(e)},e.prototype.fromArray=function(e){this.array=Q(this.type).from(e)},e.prototype.fromArrayBuffer=function(e){this.array=new(Q(this.type))(e)},e.prototype.getType=function(){return this.type},e.prototype.getArray=function(){return this.array},e.prototype.getUsage=function(){return this.usage},e.prototype.getSize=function(){return this.array?this.array.length:0},e}(),ee="webglcontextlost",te="webglcontextrestored",re=function(){function e(e){this.gl_=e.webGlContext;var t=this.gl_;this.scaleRatio_=e.scaleRatio||1,this.renderTargetTexture_=t.createTexture(),this.renderTargetTextureSize_=null,this.frameBuffer_=t.createFramebuffer();var r=t.createShader(t.VERTEX_SHADER);t.shaderSource(r,e.vertexShader||"\n  precision mediump float;\n  \n  attribute vec2 a_position;\n  varying vec2 v_texCoord;\n  varying vec2 v_screenCoord;\n  \n  uniform vec2 u_screenSize;\n   \n  void main() {\n    v_texCoord = a_position * 0.5 + 0.5;\n    v_screenCoord = v_texCoord * u_screenSize;\n    gl_Position = vec4(a_position, 0.0, 1.0);\n  }\n"),t.compileShader(r);var o=t.createShader(t.FRAGMENT_SHADER);t.shaderSource(o,e.fragmentShader||"\n  precision mediump float;\n   \n  uniform sampler2D u_image;\n   \n  varying vec2 v_texCoord;\n   \n  void main() {\n    gl_FragColor = texture2D(u_image, v_texCoord);\n  }\n"),t.compileShader(o),this.renderTargetProgram_=t.createProgram(),t.attachShader(this.renderTargetProgram_,r),t.attachShader(this.renderTargetProgram_,o),t.linkProgram(this.renderTargetProgram_),this.renderTargetVerticesBuffer_=t.createBuffer();t.bindBuffer(t.ARRAY_BUFFER,this.renderTargetVerticesBuffer_),t.bufferData(t.ARRAY_BUFFER,new Float32Array([-1,-1,1,-1,-1,1,1,-1,1,1,-1,1]),t.STATIC_DRAW),this.renderTargetAttribLocation_=t.getAttribLocation(this.renderTargetProgram_,"a_position"),this.renderTargetUniformLocation_=t.getUniformLocation(this.renderTargetProgram_,"u_screenSize"),this.renderTargetTextureLocation_=t.getUniformLocation(this.renderTargetProgram_,"u_image"),this.uniforms_=[],e.uniforms&&Object.keys(e.uniforms).forEach(function(r){this.uniforms_.push({value:e.uniforms[r],location:t.getUniformLocation(this.renderTargetProgram_,r)})}.bind(this))}return e.prototype.getGL=function(){return this.gl_},e.prototype.init=function(e){var t=this.getGL(),r=[t.drawingBufferWidth*this.scaleRatio_,t.drawingBufferHeight*this.scaleRatio_];if(t.bindFramebuffer(t.FRAMEBUFFER,this.getFrameBuffer()),t.viewport(0,0,r[0],r[1]),!this.renderTargetTextureSize_||this.renderTargetTextureSize_[0]!==r[0]||this.renderTargetTextureSize_[1]!==r[1]){this.renderTargetTextureSize_=r;var o=t.RGBA,i=t.RGBA,n=t.UNSIGNED_BYTE;t.bindTexture(t.TEXTURE_2D,this.renderTargetTexture_),t.texImage2D(t.TEXTURE_2D,0,o,r[0],r[1],0,i,n,null),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.LINEAR),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,this.renderTargetTexture_,0)}},e.prototype.apply=function(e,t){var r=this.getGL(),o=e.size;r.bindFramebuffer(r.FRAMEBUFFER,t?t.getFrameBuffer():null),r.activeTexture(r.TEXTURE0),r.bindTexture(r.TEXTURE_2D,this.renderTargetTexture_),r.clearColor(0,0,0,0),r.clear(r.COLOR_BUFFER_BIT),r.enable(r.BLEND),r.blendFunc(r.ONE,r.ONE_MINUS_SRC_ALPHA),r.viewport(0,0,r.drawingBufferWidth,r.drawingBufferHeight),r.bindBuffer(r.ARRAY_BUFFER,this.renderTargetVerticesBuffer_),r.useProgram(this.renderTargetProgram_),r.enableVertexAttribArray(this.renderTargetAttribLocation_),r.vertexAttribPointer(this.renderTargetAttribLocation_,2,r.FLOAT,!1,0,0),r.uniform2f(this.renderTargetUniformLocation_,o[0],o[1]),r.uniform1i(this.renderTargetTextureLocation_,0),this.applyUniforms(e),r.drawArrays(r.TRIANGLES,0,6)},e.prototype.getFrameBuffer=function(){return this.frameBuffer_},e.prototype.applyUniforms=function(e){var t,r=this.getGL(),o=1;this.uniforms_.forEach((function(i){if((t="function"==typeof i.value?i.value(e):i.value)instanceof HTMLCanvasElement||t instanceof ImageData)i.texture||(i.texture=r.createTexture()),r.activeTexture(r["TEXTURE"+o]),r.bindTexture(r.TEXTURE_2D,i.texture),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MIN_FILTER,r.LINEAR),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_S,r.CLAMP_TO_EDGE),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_T,r.CLAMP_TO_EDGE),t instanceof ImageData?r.texImage2D(r.TEXTURE_2D,0,r.RGBA,r.RGBA,t.width,t.height,0,r.UNSIGNED_BYTE,new Uint8Array(t.data)):r.texImage2D(r.TEXTURE_2D,0,r.RGBA,r.RGBA,r.UNSIGNED_BYTE,t),r.uniform1i(i.location,o++);else if(Array.isArray(t))switch(t.length){case 2:return void r.uniform2f(i.location,t[0],t[1]);case 3:return void r.uniform3f(i.location,t[0],t[1],t[2]);case 4:return void r.uniform4f(i.location,t[0],t[1],t[2],t[3]);default:return}else"number"==typeof t&&r.uniform1f(i.location,t)}))},e}();function oe(e,t){return e[0]=t[0],e[1]=t[1],e[4]=t[2],e[5]=t[3],e[12]=t[4],e[13]=t[5],e}var ie,ne=(ie=function(e,t){return(ie=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}ie(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),ae="u_projectionMatrix",se="u_offsetScaleMatrix",ue="u_offsetRotateMatrix",pe="u_time",ce="u_zoom",fe="u_resolution",he={UNSIGNED_BYTE:5121,UNSIGNED_SHORT:5123,UNSIGNED_INT:5125,FLOAT:5126},ye=function(e){function t(t){var r=e.call(this)||this,o=t||{};r.boundHandleWebGLContextLost_=r.handleWebGLContextLost.bind(r),r.boundHandleWebGLContextRestored_=r.handleWebGLContextRestored.bind(r),r.canvas_=document.createElement("canvas"),r.canvas_.style.position="absolute",r.canvas_.style.left="0",r.gl_=K(r.canvas_);var i=r.getGL();if(r.bufferCache_={},r.currentProgram_=null,h(y(function(){if(!Y){var e=K(document.createElement("canvas"));e&&(Y=e.getSupportedExtensions())}return Y}(),"OES_element_index_uint"),63),i.getExtension("OES_element_index_uint"),r.canvas_.addEventListener(ee,r.boundHandleWebGLContextLost_),r.canvas_.addEventListener(te,r.boundHandleWebGLContextRestored_),r.offsetRotateMatrix_=l(),r.offsetScaleMatrix_=l(),r.tmpMat4_=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],r.uniformLocations_={},r.attribLocations_={},r.uniforms_=[],o.uniforms)for(var n in o.uniforms)r.uniforms_.push({name:n,value:o.uniforms[n]});return r.postProcessPasses_=o.postProcesses?o.postProcesses.map((function(e){return new re({webGlContext:i,scaleRatio:e.scaleRatio,vertexShader:e.vertexShader,fragmentShader:e.fragmentShader,uniforms:e.uniforms})})):[new re({webGlContext:i})],r.shaderCompileErrors_=null,r.startTime_=Date.now(),r}return ne(t,e),t.prototype.bindBuffer=function(e){var t=this.getGL(),r=d(e),o=this.bufferCache_[r];o||(o={buffer:e,webGlBuffer:t.createBuffer()},this.bufferCache_[r]=o);t.bindBuffer(e.getType(),o.webGlBuffer)},t.prototype.flushBufferData=function(e){var t=this.getGL();this.bindBuffer(e),t.bufferData(e.getType(),e.getArray(),e.getUsage())},t.prototype.deleteBuffer=function(e){var t=this.getGL(),r=d(e),o=this.bufferCache_[r];o&&!t.isContextLost()&&t.deleteBuffer(o.webGlBuffer),delete this.bufferCache_[r]},t.prototype.disposeInternal=function(){this.canvas_.removeEventListener(ee,this.boundHandleWebGLContextLost_),this.canvas_.removeEventListener(te,this.boundHandleWebGLContextRestored_)},t.prototype.prepareDraw=function(e){var t=this.getGL(),r=this.getCanvas(),o=e.size,i=e.pixelRatio;r.width=o[0]*i,r.height=o[1]*i,r.style.width=o[0]+"px",r.style.height=o[1]+"px",t.useProgram(this.currentProgram_);for(var n=this.postProcessPasses_.length-1;n>=0;n--)this.postProcessPasses_[n].init(e);t.bindTexture(t.TEXTURE_2D,null),t.clearColor(0,0,0,0),t.clear(t.COLOR_BUFFER_BIT),t.enable(t.BLEND),t.blendFunc(t.ONE,t.ONE_MINUS_SRC_ALPHA),t.useProgram(this.currentProgram_),this.applyFrameState(e),this.applyUniforms(e)},t.prototype.prepareDrawToRenderTarget=function(e,t,r){var o=this.getGL(),i=t.getSize();o.bindFramebuffer(o.FRAMEBUFFER,t.getFramebuffer()),o.viewport(0,0,i[0],i[1]),o.bindTexture(o.TEXTURE_2D,t.getTexture()),o.clearColor(0,0,0,0),o.clear(o.COLOR_BUFFER_BIT),o.enable(o.BLEND),o.blendFunc(o.ONE,r?o.ZERO:o.ONE_MINUS_SRC_ALPHA),o.useProgram(this.currentProgram_),this.applyFrameState(e),this.applyUniforms(e)},t.prototype.drawElements=function(e,t){var r=this.getGL(),o=r.UNSIGNED_INT,i=t-e,n=4*e;r.drawElements(r.TRIANGLES,i,o,n)},t.prototype.finalizeDraw=function(e){for(var t=0;t<this.postProcessPasses_.length;t++)this.postProcessPasses_[t].apply(e,this.postProcessPasses_[t+1]||null)},t.prototype.getCanvas=function(){return this.canvas_},t.prototype.getGL=function(){return this.gl_},t.prototype.applyFrameState=function(e){var t=e.size,r=e.viewState.rotation,o=_(this.offsetScaleMatrix_);m(o,2/t[0],2/t[1]);var i=_(this.offsetRotateMatrix_);0!==r&&g(i,-r),this.setUniformMatrixValue(se,oe(this.tmpMat4_,o)),this.setUniformMatrixValue(ue,oe(this.tmpMat4_,i)),this.setUniformFloatValue(pe,.001*(Date.now()-this.startTime_)),this.setUniformFloatValue(ce,e.viewState.zoom),this.setUniformFloatValue(fe,e.viewState.resolution)},t.prototype.applyUniforms=function(e){var t,r=this.getGL(),o=0;this.uniforms_.forEach(function(i){if((t="function"==typeof i.value?i.value(e):i.value)instanceof HTMLCanvasElement||t instanceof HTMLImageElement||t instanceof ImageData)i.texture||(i.prevValue=void 0,i.texture=r.createTexture()),r.activeTexture(r["TEXTURE"+o]),r.bindTexture(r.TEXTURE_2D,i.texture),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MIN_FILTER,r.LINEAR),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_S,r.CLAMP_TO_EDGE),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_T,r.CLAMP_TO_EDGE),(!(t instanceof HTMLImageElement)||t.complete)&&i.prevValue!==t&&(i.prevValue=t,r.texImage2D(r.TEXTURE_2D,0,r.RGBA,r.RGBA,r.UNSIGNED_BYTE,t)),r.uniform1i(this.getUniformLocation(i.name),o++);else if(Array.isArray(t)&&6===t.length)this.setUniformMatrixValue(i.name,oe(this.tmpMat4_,t));else if(Array.isArray(t)&&t.length<=4)switch(t.length){case 2:return void r.uniform2f(this.getUniformLocation(i.name),t[0],t[1]);case 3:return void r.uniform3f(this.getUniformLocation(i.name),t[0],t[1],t[2]);case 4:return void r.uniform4f(this.getUniformLocation(i.name),t[0],t[1],t[2],t[3]);default:return}else"number"==typeof t&&r.uniform1f(this.getUniformLocation(i.name),t)}.bind(this))},t.prototype.useProgram=function(e){return e!=this.currentProgram_&&(this.getGL().useProgram(e),this.currentProgram_=e,this.uniformLocations_={},this.attribLocations_={},!0)},t.prototype.compileShader=function(e,t){var r=this.getGL(),o=r.createShader(t);return r.shaderSource(o,e),r.compileShader(o),o},t.prototype.getProgram=function(e,t){var r=this.getGL(),o=this.compileShader(e,r.FRAGMENT_SHADER),i=this.compileShader(t,r.VERTEX_SHADER),n=r.createProgram();if(r.attachShader(n,o),r.attachShader(n,i),r.linkProgram(n),!r.getShaderParameter(o,r.COMPILE_STATUS)){var a="Fragment shader compliation failed: "+r.getShaderInfoLog(o);throw new Error(a)}if(r.deleteShader(o),!r.getShaderParameter(i,r.COMPILE_STATUS)){a="Vertex shader compilation failed: "+r.getShaderInfoLog(i);throw new Error(a)}if(r.deleteShader(i),!r.getProgramParameter(n,r.LINK_STATUS)){a="GL program linking failed: "+r.getShaderInfoLog(i);throw new Error(a)}return n},t.prototype.getUniformLocation=function(e){return void 0===this.uniformLocations_[e]&&(this.uniformLocations_[e]=this.getGL().getUniformLocation(this.currentProgram_,e)),this.uniformLocations_[e]},t.prototype.getAttributeLocation=function(e){return void 0===this.attribLocations_[e]&&(this.attribLocations_[e]=this.getGL().getAttribLocation(this.currentProgram_,e)),this.attribLocations_[e]},t.prototype.makeProjectionTransform=function(e,t){var r=e.size,o=e.viewState.rotation,i=e.viewState.resolution,n=e.viewState.center;return _(t),v(t,0,0,2/(i*r[0]),2/(i*r[1]),-o,-n[0],-n[1]),t},t.prototype.setUniformFloatValue=function(e,t){this.getGL().uniform1f(this.getUniformLocation(e),t)},t.prototype.setUniformMatrixValue=function(e,t){this.getGL().uniformMatrix4fv(this.getUniformLocation(e),!1,t)},t.prototype.enableAttributeArray_=function(e,t,r,o,i){var n=this.getAttributeLocation(e);n<0||(this.getGL().enableVertexAttribArray(n),this.getGL().vertexAttribPointer(n,t,r,!1,o,i))},t.prototype.enableAttributes=function(e){for(var t=function(e){for(var t=0,r=0;r<e.length;r++){var o=e[r];t+=o.size*le(o.type)}return t}(e),r=0,o=0;o<e.length;o++){var i=e[o];this.enableAttributeArray_(i.name,i.size,i.type||5126,t,r),r+=i.size*le(i.type)}},t.prototype.handleWebGLContextLost=function(){E(this.bufferCache_),this.currentProgram_=null},t.prototype.handleWebGLContextRestored=function(){},t.prototype.createTexture=function(e,t,r){var o=this.getGL(),i=r||o.createTexture(),n=o.RGBA,a=o.RGBA,s=o.UNSIGNED_BYTE;return o.bindTexture(o.TEXTURE_2D,i),t?o.texImage2D(o.TEXTURE_2D,0,n,a,s,t):o.texImage2D(o.TEXTURE_2D,0,n,e[0],e[1],0,a,s,null),o.texParameteri(o.TEXTURE_2D,o.TEXTURE_MIN_FILTER,o.LINEAR),o.texParameteri(o.TEXTURE_2D,o.TEXTURE_WRAP_S,o.CLAMP_TO_EDGE),o.texParameteri(o.TEXTURE_2D,o.TEXTURE_WRAP_T,o.CLAMP_TO_EDGE),i},t}(T);function le(e){switch(e){case he.UNSIGNED_BYTE:return Uint8Array.BYTES_PER_ELEMENT;case he.UNSIGNED_SHORT:return Uint16Array.BYTES_PER_ELEMENT;case he.UNSIGNED_INT:return Uint32Array.BYTES_PER_ELEMENT;case he.FLOAT:default:return Float32Array.BYTES_PER_ELEMENT}}var de=function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(t,r)};return function(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function o(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),_e="GENERATE_BUFFERS";var me=function(e){function t(t,r){var o=e.call(this,t)||this,i=r||{};return o.helper=new ye({postProcesses:i.postProcesses,uniforms:i.uniforms}),void 0!==i.className&&(o.helper.getCanvas().className=i.className),o}return de(t,e),t.prototype.disposeInternal=function(){this.helper.dispose(),e.prototype.disposeInternal.call(this)},t.prototype.dispatchRenderEvent_=function(e,t){var r=this.getLayer();if(r.hasListener(e)){var o=new P(e,null,t,null);r.dispatchEvent(o)}},t.prototype.preRender=function(e){this.dispatchRenderEvent_(b.PRERENDER,e)},t.prototype.postRender=function(e){this.dispatchRenderEvent_(b.POSTRENDER,e)},t}(F),ge=new Uint8Array(4),ve=function(){function e(e,t){this.helper_=e;var r=e.getGL();this.texture_=r.createTexture(),this.framebuffer_=r.createFramebuffer(),this.size_=t||[1,1],this.data_=new Uint8Array(0),this.dataCacheDirty_=!0,this.updateSize_()}return e.prototype.setSize=function(e){x(e,this.size_)||(this.size_[0]=e[0],this.size_[1]=e[1],this.updateSize_())},e.prototype.getSize=function(){return this.size_},e.prototype.clearCachedData=function(){this.dataCacheDirty_=!0},e.prototype.readAll=function(){if(this.dataCacheDirty_){var e=this.size_,t=this.helper_.getGL();t.bindFramebuffer(t.FRAMEBUFFER,this.framebuffer_),t.readPixels(0,0,e[0],e[1],t.RGBA,t.UNSIGNED_BYTE,this.data_),this.dataCacheDirty_=!1}return this.data_},e.prototype.readPixel=function(e,t){if(e<0||t<0||e>this.size_[0]||t>=this.size_[1])return ge[0]=0,ge[1]=0,ge[2]=0,ge[3]=0,ge;this.readAll();var r=Math.floor(e)+(this.size_[1]-Math.floor(t)-1)*this.size_[0];return ge[0]=this.data_[4*r],ge[1]=this.data_[4*r+1],ge[2]=this.data_[4*r+2],ge[3]=this.data_[4*r+3],ge},e.prototype.getTexture=function(){return this.texture_},e.prototype.getFramebuffer=function(){return this.framebuffer_},e.prototype.updateSize_=function(){var e=this.size_,t=this.helper_.getGL();this.texture_=this.helper_.createTexture(e,null,this.texture_),t.bindFramebuffer(t.FRAMEBUFFER,this.framebuffer_),t.viewport(0,0,e[0],e[1]),t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,this.texture_,0),this.data_=new Uint8Array(e[0]*e[1]*4)},e}(),Ee=new Blob(['var e="function"==typeof Object.assign?Object.assign:function(e,n){if(null==e)throw new TypeError("Cannot convert undefined or null to object");for(var t=Object(e),r=1,o=arguments.length;r<o;++r){var i=arguments[r];if(null!=i)for(var f in i)i.hasOwnProperty(f)&&(t[f]=i[f])}return t},n="GENERATE_BUFFERS",t=[],r={vertexPosition:0,indexPosition:0};function o(e,n,t,r,o){e[n+0]=t,e[n+1]=r,e[n+2]=o}function i(e,n,i,f,s,u){var a=3+s,l=e[n+0],v=e[n+1],c=t;c.length=s;for(var g=0;g<c.length;g++)c[g]=e[n+2+g];var b=u?u.vertexPosition:0,h=u?u.indexPosition:0,d=b/a;return o(i,b,l,v,0),c.length&&i.set(c,b+3),o(i,b+=a,l,v,1),c.length&&i.set(c,b+3),o(i,b+=a,l,v,2),c.length&&i.set(c,b+3),o(i,b+=a,l,v,3),c.length&&i.set(c,b+3),b+=a,f[h++]=d,f[h++]=d+1,f[h++]=d+3,f[h++]=d+1,f[h++]=d+2,f[h++]=d+3,r.vertexPosition=b,r.indexPosition=h,r}var f=self;f.onmessage=function(t){var r=t.data;if(r.type===n){for(var o=r.customAttributesCount,s=2+o,u=new Float32Array(r.renderInstructions),a=u.length/s,l=4*a*(o+3),v=new Uint32Array(6*a),c=new Float32Array(l),g=null,b=0;b<u.length;b+=s)g=i(u,b,c,v,o,g);var h=e({vertexBuffer:c.buffer,indexBuffer:v.buffer,renderInstructions:u.buffer},r);f.postMessage(h,[c.buffer,v.buffer,u.buffer])}};'],{type:"application/javascript"}),Te=URL.createObjectURL(Ee);var Pe=function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(t,r)};return function(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function o(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),be=function(e){function t(t,r){var o=this,i=r.uniforms||{},n=l();i[ae]=n,(o=e.call(this,t,{className:r.className,uniforms:i,postProcesses:r.postProcesses})||this).sourceRevision_=-1,o.verticesBuffer_=new $(34962,35048),o.hitVerticesBuffer_=new $(34962,35048),o.indicesBuffer_=new $(34963,35048),o.program_=o.helper.getProgram(r.fragmentShader,r.vertexShader),o.hitDetectionEnabled_=!(!r.hitFragmentShader||!r.hitVertexShader),o.hitProgram_=o.hitDetectionEnabled_&&o.helper.getProgram(r.hitFragmentShader,r.hitVertexShader);var a=r.attributes?r.attributes.map((function(e){return{name:"a_"+e.name,size:1,type:he.FLOAT}})):[];o.attributes=[{name:"a_position",size:2,type:he.FLOAT},{name:"a_index",size:1,type:he.FLOAT}].concat(a),o.hitDetectionAttributes=[{name:"a_position",size:2,type:he.FLOAT},{name:"a_index",size:1,type:he.FLOAT},{name:"a_hitColor",size:4,type:he.FLOAT},{name:"a_featureUid",size:1,type:he.FLOAT}].concat(a),o.customAttributes=r.attributes?r.attributes:[],o.previousExtent_=R(),o.currentTransform_=n,o.renderTransform_=l(),o.invertRenderTransform_=l(),o.renderInstructions_=new Float32Array(0),o.hitRenderInstructions_=new Float32Array(0),o.hitRenderTarget_=o.hitDetectionEnabled_&&new ve(o.helper),o.worker_=new Worker(Te),o.worker_.addEventListener("message",function(e){var t=e.data;if(t.type===_e){var r=t.projectionTransform;t.hitDetection?(this.hitVerticesBuffer_.fromArrayBuffer(t.vertexBuffer),this.helper.flushBufferData(this.hitVerticesBuffer_)):(this.verticesBuffer_.fromArrayBuffer(t.vertexBuffer),this.helper.flushBufferData(this.verticesBuffer_)),this.indicesBuffer_.fromArrayBuffer(t.indexBuffer),this.helper.flushBufferData(this.indicesBuffer_),this.renderTransform_=r,A(this.invertRenderTransform_,this.renderTransform_),t.hitDetection?this.hitRenderInstructions_=new Float32Array(e.data.renderInstructions):this.renderInstructions_=new Float32Array(e.data.renderInstructions),this.getLayer().changed()}}.bind(o)),o.featureCache_={},o.featureCount_=0;var s=o.getLayer().getSource();return o.sourceListenKeys_=[S(s,X.ADDFEATURE,o.handleSourceFeatureAdded_,o),S(s,X.CHANGEFEATURE,o.handleSourceFeatureChanged_,o),S(s,X.REMOVEFEATURE,o.handleSourceFeatureDelete_,o),S(s,X.CLEAR,o.handleSourceFeatureClear_,o)],s.forEachFeature(function(e){this.featureCache_[d(e)]={feature:e,properties:e.getProperties(),geometry:e.getGeometry()},this.featureCount_++}.bind(o)),o}return Pe(t,e),t.prototype.handleSourceFeatureAdded_=function(e){var t=e.feature;this.featureCache_[d(t)]={feature:t,properties:t.getProperties(),geometry:t.getGeometry()},this.featureCount_++},t.prototype.handleSourceFeatureChanged_=function(e){var t=e.feature;this.featureCache_[d(t)]={feature:t,properties:t.getProperties(),geometry:t.getGeometry()}},t.prototype.handleSourceFeatureDelete_=function(e){var t=e.feature;delete this.featureCache_[d(t)],this.featureCount_--},t.prototype.handleSourceFeatureClear_=function(){this.featureCache_={},this.featureCount_=0},t.prototype.renderFrame=function(e){this.preRender(e);var t=this.indicesBuffer_.getSize();this.helper.drawElements(0,t),this.helper.finalizeDraw(e);var r=this.helper.getCanvas(),o=e.layerStatesArray[e.layerIndex].opacity;return o!==parseFloat(r.style.opacity)&&(r.style.opacity=String(o)),this.hitDetectionEnabled_&&(this.renderHitDetection(e),this.hitRenderTarget_.clearCachedData()),this.postRender(e),r},t.prototype.prepareFrame=function(e){var t=this.getLayer(),r=t.getSource(),o=e.viewState,i=!e.viewHints[L.ANIMATING]&&!e.viewHints[L.INTERACTING],n=!C(this.previousExtent_,e.extent),a=this.sourceRevision_<r.getRevision();if(a&&(this.sourceRevision_=r.getRevision()),i&&(n||a)){var s=o.projection,u=o.resolution,p=t instanceof j?t.getRenderBuffer():0,c=w(e.extent,p*u);r.loadFeatures(c,u,s),this.rebuildBuffers_(e),this.previousExtent_=e.extent.slice()}return this.helper.makeProjectionTransform(e,this.currentTransform_),U(this.currentTransform_,this.invertRenderTransform_),this.helper.useProgram(this.program_),this.helper.prepareDraw(e),this.helper.bindBuffer(this.verticesBuffer_),this.helper.bindBuffer(this.indicesBuffer_),this.helper.enableAttributes(this.attributes),!0},t.prototype.rebuildBuffers_=function(e){var t=l();this.helper.makeProjectionTransform(e,t);var r,o,i=(2+this.customAttributes.length)*this.featureCount_;if(this.renderInstructions_&&this.renderInstructions_.length===i||(this.renderInstructions_=new Float32Array(i)),this.hitDetectionEnabled_){var n=(7+this.customAttributes.length)*this.featureCount_;this.hitRenderInstructions_&&this.hitRenderInstructions_.length===n||(this.hitRenderInstructions_=new Float32Array(n))}var a,s,u,p,c,f=[],h=[],y=0,d=0;for(var _ in this.featureCache_)if((o=(r=this.featureCache_[_]).geometry)&&o.getType()===D.POINT){f[0]=o.getFlatCoordinates()[0],f[1]=o.getFlatCoordinates()[1],B(t,f),s=d+6,u=void 0,p=void 0,c=void 0,p=256,c=255,(u=h||[])[0]=Math.floor(s/p/p/p)/c,u[1]=Math.floor(s/p/p)%p/c,u[2]=Math.floor(s/p)%p/c,u[3]=s%p/c,a=u,this.renderInstructions_[y++]=f[0],this.renderInstructions_[y++]=f[1],this.hitDetectionEnabled_&&(this.hitRenderInstructions_[d++]=f[0],this.hitRenderInstructions_[d++]=f[1],this.hitRenderInstructions_[d++]=a[0],this.hitRenderInstructions_[d++]=a[1],this.hitRenderInstructions_[d++]=a[2],this.hitRenderInstructions_[d++]=a[3],this.hitRenderInstructions_[d++]=Number(_));for(var m=void 0,g=0;g<this.customAttributes.length;g++)m=this.customAttributes[g].callback(r.feature,r.properties),this.renderInstructions_[y++]=m,this.hitDetectionEnabled_&&(this.hitRenderInstructions_[d++]=m)}var v={type:_e,renderInstructions:this.renderInstructions_.buffer,customAttributesCount:this.customAttributes.length};if(v.projectionTransform=t,this.worker_.postMessage(v,[this.renderInstructions_.buffer]),this.renderInstructions_=null,this.hitDetectionEnabled_){var E={type:_e,renderInstructions:this.hitRenderInstructions_.buffer,customAttributesCount:5+this.customAttributes.length};E.projectionTransform=t,E.hitDetection=!0,this.worker_.postMessage(E,[this.hitRenderInstructions_.buffer]),this.hitRenderInstructions_=null}},t.prototype.forEachFeatureAtCoordinate=function(e,t,r,o,i){if(h(this.hitDetectionEnabled_,66),this.hitRenderInstructions_){var n=B(t.coordinateToPixelTransform,e.slice()),a=this.hitRenderTarget_.readPixel(n[0]/2,n[1]/2),s=function(e){var t=0,r=256,o=255;return t+=Math.round(e[0]*r*r*r*o),t+=Math.round(e[1]*r*r*o),t+=Math.round(e[2]*r*o),t+Math.round(e[3]*o)}([a[0]/255,a[1]/255,a[2]/255,a[3]/255]),u=this.hitRenderInstructions_[s],p=Math.floor(u).toString(),c=this.getLayer().getSource().getFeatureByUid(p);return c?o(c,this.getLayer(),null):void 0}},t.prototype.renderHitDetection=function(e){if(this.hitVerticesBuffer_.getSize()){this.hitRenderTarget_.setSize([Math.floor(e.size[0]/2),Math.floor(e.size[1]/2)]),this.helper.useProgram(this.hitProgram_),this.helper.prepareDrawToRenderTarget(e,this.hitRenderTarget_,!0),this.helper.bindBuffer(this.hitVerticesBuffer_),this.helper.bindBuffer(this.indicesBuffer_),this.helper.enableAttributes(this.hitDetectionAttributes);var t=this.indicesBuffer_.getSize();this.helper.drawElements(0,t)}},t.prototype.disposeInternal=function(){this.worker_.terminate(),this.layer_=null,this.sourceListenKeys_.forEach((function(e){I(e)})),this.sourceListenKeys_=null,e.prototype.disposeInternal.call(this)},t}(me),Fe=function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(t,r)};return function(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function o(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),xe="blur",Re="gradient",Ae="radius",Se=["#00f","#0ff","#0f0","#ff0","#f00"];var Le=function(e){function t(t){var r=this,o=t||{},i=G({},o);delete i.gradient,delete i.radius,delete i.blur,delete i.weight,(r=e.call(this,i)||this).gradient_=null,r.addChangeListener(Re,r.handleGradientChanged_),r.setGradient(o.gradient?o.gradient:Se),r.setBlur(void 0!==o.blur?o.blur:15),r.setRadius(void 0!==o.radius?o.radius:8);var n=o.weight?o.weight:"weight";return r.weightFunction_="string"==typeof n?function(e){return e.get(n)}:n,r.setRenderOrder(null),r}return Fe(t,e),t.prototype.getBlur=function(){return this.get(xe)},t.prototype.getGradient=function(){return this.get(Re)},t.prototype.getRadius=function(){return this.get(Ae)},t.prototype.handleGradientChanged_=function(){this.gradient_=function(e){for(var t=1,r=256,o=O(t,r),i=o.createLinearGradient(0,0,t,r),n=1/(e.length-1),a=0,s=e.length;a<s;++a)i.addColorStop(a*n,e[a]);return o.fillStyle=i,o.fillRect(0,0,t,r),o.canvas}(this.getGradient())},t.prototype.setBlur=function(e){this.set(xe,e)},t.prototype.setGradient=function(e){this.set(Re,e)},t.prototype.setRadius=function(e){this.set(Ae,e)},t.prototype.createRenderer=function(){return new be(this,{className:this.getClassName(),attributes:[{name:"weight",callback:function(e){var t=this.weightFunction_(e);return void 0!==t?M(t,0,1):1}.bind(this)}],vertexShader:"\n        precision mediump float;\n        uniform mat4 u_projectionMatrix;\n        uniform mat4 u_offsetScaleMatrix;\n        uniform float u_size;\n        attribute vec2 a_position;\n        attribute float a_index;\n        attribute float a_weight;\n\n        varying vec2 v_texCoord;\n        varying float v_weight;\n\n        void main(void) {\n          mat4 offsetMatrix = u_offsetScaleMatrix;\n          float offsetX = a_index == 0.0 || a_index == 3.0 ? -u_size / 2.0 : u_size / 2.0;\n          float offsetY = a_index == 0.0 || a_index == 1.0 ? -u_size / 2.0 : u_size / 2.0;\n          vec4 offsets = offsetMatrix * vec4(offsetX, offsetY, 0.0, 0.0);\n          gl_Position = u_projectionMatrix * vec4(a_position, 0.0, 1.0) + offsets;\n          float u = a_index == 0.0 || a_index == 3.0 ? 0.0 : 1.0;\n          float v = a_index == 0.0 || a_index == 1.0 ? 0.0 : 1.0;\n          v_texCoord = vec2(u, v);\n          v_weight = a_weight;\n        }",fragmentShader:"\n        precision mediump float;\n        uniform float u_blurSlope;\n\n        varying vec2 v_texCoord;\n        varying float v_weight;\n\n        void main(void) {\n          vec2 texCoord = v_texCoord * 2.0 - vec2(1.0, 1.0);\n          float sqRadius = texCoord.x * texCoord.x + texCoord.y * texCoord.y;\n          float value = (1.0 - sqrt(sqRadius)) * u_blurSlope;\n          float alpha = smoothstep(0.0, 1.0, value) * v_weight;\n          gl_FragColor = vec4(alpha, alpha, alpha, alpha);\n        }",hitVertexShader:"\n        precision mediump float;\n        uniform mat4 u_projectionMatrix;\n        uniform mat4 u_offsetScaleMatrix;\n        uniform float u_size;\n        attribute vec2 a_position;\n        attribute float a_index;\n        attribute float a_weight;\n        attribute vec4 a_hitColor;\n\n        varying vec2 v_texCoord;\n        varying float v_weight;\n        varying vec4 v_hitColor;\n\n        void main(void) {\n          mat4 offsetMatrix = u_offsetScaleMatrix;\n          float offsetX = a_index == 0.0 || a_index == 3.0 ? -u_size / 2.0 : u_size / 2.0;\n          float offsetY = a_index == 0.0 || a_index == 1.0 ? -u_size / 2.0 : u_size / 2.0;\n          vec4 offsets = offsetMatrix * vec4(offsetX, offsetY, 0.0, 0.0);\n          gl_Position = u_projectionMatrix * vec4(a_position, 0.0, 1.0) + offsets;\n          float u = a_index == 0.0 || a_index == 3.0 ? 0.0 : 1.0;\n          float v = a_index == 0.0 || a_index == 1.0 ? 0.0 : 1.0;\n          v_texCoord = vec2(u, v);\n          v_hitColor = a_hitColor;\n          v_weight = a_weight;\n        }",hitFragmentShader:"\n        precision mediump float;\n        uniform float u_blurSlope;\n\n        varying vec2 v_texCoord;\n        varying float v_weight;\n        varying vec4 v_hitColor;\n\n        void main(void) {\n          vec2 texCoord = v_texCoord * 2.0 - vec2(1.0, 1.0);\n          float sqRadius = texCoord.x * texCoord.x + texCoord.y * texCoord.y;\n          float value = (1.0 - sqrt(sqRadius)) * u_blurSlope;\n          float alpha = smoothstep(0.0, 1.0, value) * v_weight;\n          if (alpha < 0.05) {\n            discard;\n          }\n\n          gl_FragColor = v_hitColor;\n        }",uniforms:{u_size:function(){return 2*(this.get(Ae)+this.get(xe))}.bind(this),u_blurSlope:function(){return this.get(Ae)/Math.max(1,this.get(xe))}.bind(this)},postProcesses:[{fragmentShader:"\n            precision mediump float;\n\n            uniform sampler2D u_image;\n            uniform sampler2D u_gradientTexture;\n\n            varying vec2 v_texCoord;\n\n            void main() {\n              vec4 color = texture2D(u_image, v_texCoord);\n              gl_FragColor.a = color.a;\n              gl_FragColor.rgb = texture2D(u_gradientTexture, vec2(0.5, color.a)).rgb;\n              gl_FragColor.rgb *= gl_FragColor.a;\n            }",uniforms:{u_gradientTexture:function(){return this.gradient_}.bind(this)}}]})},t.prototype.renderDeclutter=function(){},t}(V),Ce=function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(t,r)};return function(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function o(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),we=['Map tiles by <a href="https://stamen.com/" target="_blank">Stamen Design</a>, under <a href="https://creativecommons.org/licenses/by/3.0/" target="_blank">CC BY 3.0</a>.',q],Ue={terrain:{extension:"jpg",opaque:!0},"terrain-background":{extension:"jpg",opaque:!0},"terrain-labels":{extension:"png",opaque:!1},"terrain-lines":{extension:"png",opaque:!1},"toner-background":{extension:"png",opaque:!0},toner:{extension:"png",opaque:!0},"toner-hybrid":{extension:"png",opaque:!1},"toner-labels":{extension:"png",opaque:!1},"toner-lines":{extension:"png",opaque:!1},"toner-lite":{extension:"png",opaque:!0},watercolor:{extension:"jpg",opaque:!0}},De={terrain:{minZoom:0,maxZoom:18},toner:{minZoom:0,maxZoom:20},watercolor:{minZoom:0,maxZoom:18}},Be=function(e){function t(t){var r=t.layer.indexOf("-"),o=-1==r?t.layer:t.layer.slice(0,r),i=De[o],n=Ue[t.layer],a=void 0!==t.url?t.url:"https://stamen-tiles-{a-d}.a.ssl.fastly.net/"+t.layer+"/{z}/{x}/{y}."+n.extension;return e.call(this,{attributions:we,cacheSize:t.cacheSize,crossOrigin:"anonymous",imageSmoothing:t.imageSmoothing,maxZoom:null!=t.maxZoom?t.maxZoom:i.maxZoom,minZoom:null!=t.minZoom?t.minZoom:i.minZoom,opaque:n.opaque,reprojectionErrorThreshold:t.reprojectionErrorThreshold,tileLoadFunction:t.tileLoadFunction,transition:t.transition,url:a,wrapX:t.wrapX,zDirection:t.zDirection})||this}return Ce(t,e),t}(W);var Ie={type:"FeatureCollection",features:[{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[149.042007,-35.349998]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-71.660004,-35.423]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[174.315994,-35.721001]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-64.288002,-36.627998]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-73.055,-36.826]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[174.761002,-36.903999]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[176.154999,-37.700001]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[175.272995,-37.776001]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[145.075104,-37.852959]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[178.016006,-38.659]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-62.274067,-38.725273]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-72.575996,-38.729]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-68.283333,-38.944908]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[174.078003,-39.07]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[176.841003,-39.639999]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[175.035004,-39.93]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-62.995026,-40.815025]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[173.248001,-41.297001]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-72.952003,-41.474998]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[171.207001,-42.472]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[147.291,-42.851002]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-65.099998,-43.299999]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[172.638,-43.523998]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-72.702003,-45.402]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-67.5,-45.830002]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[170.473999,-45.883999]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[168.373001,-46.412998]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-69.228996,-51.625]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-57.848999,-51.701]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-70.934654,-53.166161]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-68.297997,-54.792]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[129.054993,35.158001]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[23.331871,42.707264]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-15.598,11.864]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[147.147949,-9.497187]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-74.080513,4.63022]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[12.55,55.720001]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[103.831787,1.268858]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[126.935249,37.542351]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[16.320986,48.202118]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-58.449841,-34.622501]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[4.368,50.837002]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[96.82608,-12.157536]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-2.973783,43.282158]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[126.907997,35.153]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[128.591003,35.863998]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[100.310997,5.364]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[165.5,-21.5]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[166.916702,-.5167]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[51.448002,35.773998]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[49.700001,34.083332]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-5.3167,35.883301]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[130.933304,33.950001]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[136.761993,35.41]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[77.216751,28.568726]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[35.22522,31.773746]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[17.934,62.633999]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[15.638,58.402]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[14.178,57.785999]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[44.233002,46.266998]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[90.374001,22.702999]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[159.983002,59.083]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[114.532997,51.167]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[104.699997,52.833]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[100.282997,64.333]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[86.217003,69.449997]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[69,61.016998]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[54.667,59.016998]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[53.033001,67.616997]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[44.783001,43.233002]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[132.899994,48.817001]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[34.333,61.783001]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[32,63]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[23.708,70.677002]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-53.553001,69.244003]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-133.705994,68.365997]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[64.040001,67.504997]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-21.895,64.135002]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-149.897995,61.202999]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-66.810997,54.800999]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-130.309998,54.320999]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-2.971,53.423]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[22.311001,48.622002]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[100.123001,46.692001]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-66.068001,45.264]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[38.960999,45.036999]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[34.104,44.962002]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[42.063,44.282001]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[71.371002,42.889]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[109.807999,40.659]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[23.653,37.944]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[39.173,21.542999]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-96.123001,19.184999]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[42.507999,18.219999]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-15.978,18.084]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[74.843002,12.869]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-10.797,6.301]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[7.068,6.215]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[9.454,.391]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[15.299,-4.321]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[34.743999,-4.817]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-77.044998,-12.082]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-57.283001,-25.406]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-71.332001,-29.959]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[46.659145,61.259964]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[174.80722,-41.334835]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[86.599289,67.493851]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[177.480255,64.755272]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[17.991455,59.331165]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[76.280418,9.970155]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-60.281559,53.29509]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-2.674783,42.850159]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-68.541466,63.755356]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[51.141739,43.690456]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[20.412556,44.799683]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[19.4,42.5]}}]};e("data-v-5316aecc");const Ge=a("label",null,"半径大小",-1),Me=a("label",null,"模糊半径",-1);t();const Oe={setup(e){const t=r(15),h=r(5),y=o(),l=r(null),d=r(null);function _(){d.value.setRadius(parseInt(t.value,10))}function m(){d.value.setBlur(parseInt(h.value,10))}function g(){let e=l.value.getLayers();for(var t=0;t<e.getLength();t++)console.log("图层名：",e.item(t).get("name"))}return i((()=>{y.commit("setComponentPath","src/views/OpenLayers/Basic/pages/Heatmap/Heatmap.vue"),d.value=new Le({name:"热力热力",source:new H({features:(new f).readFeatures(Ie,{dataProjection:"EPSG:4326",featureProjection:"EPSG:4326"})}),radius:10,blur:10,gradient:["#00f","#0ff","#0f0","#ff0","#f00"]}),l.value=new N({target:"map",layers:[new k({name:"底图",source:new Be({layer:"toner"})}),d.value],view:new z({projection:"EPSG:3857",center:[20.042007,-35.349998],zoom:19})})})),(e,r)=>(c(),n(p,null,[a("div",{id:"map",class:"map__x",ref:(e,t)=>{t.map=e,l.value=e}},null,512),Ge,s(a("input",{id:"radius",type:"range",min:"1",max:"50",step:"1","onUpdate:modelValue":r[0]||(r[0]=e=>t.value=e),onChange:_},null,544),[[u,t.value]]),Me,s(a("input",{id:"blur",type:"range",min:"1",max:"50",step:"1","onUpdate:modelValue":r[1]||(r[1]=e=>h.value=e),onChange:m},null,544),[[u,h.value]]),a("button",{onClick:g},"在控制台输出涂层名")],64))},__scopeId:"data-v-5316aecc"};export{Oe as default};
